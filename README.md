# Weather App

기상청 Open API를 활용한 한국 날씨 정보 웹 애플리케이션입니다.

## 개발 방식

이 프로젝트는 **Vibe Coding(바이브 코딩)** 방식으로 개발되었습니다.

AI 코딩 어시스턴트(Claude)와 협업하여 아이디어 구상부터 구현까지 진행했으며, 자연어로 요구사항을 설명하고 AI가 코드를 생성하는 방식으로 빠르게 프로토타이핑하고 기능을 구현했습니다.

## 데모

> 배포 URL 추가 예정

## 프로젝트 실행 방법

### 사전 요구사항

- Node.js 18.0 이상
- npm 또는 pnpm

### 환경 변수 설정

프로젝트 루트에 `.env` 파일을 생성하고 다음 API 키를 설정합니다:

```env
KMA_API_KEY=기상청_API_키
VITE_KAKAO_REST_KEY=카카오_REST_API_키
```

- **기상청 API 키**: [공공데이터포털](https://www.data.go.kr/)에서 "기상청_단기예보 ((구)_동네예보) 조회서비스" 신청
- **카카오 REST API 키**: [Kakao Developers](https://developers.kakao.com/)에서 애플리케이션 생성 후 발급

> **`VITE_` 접두사 안내**: Vite는 `VITE_` 접두사가 붙은 환경 변수만 클라이언트 코드(`import.meta.env`)에 노출합니다. `KMA_API_KEY`는 서버 프록시에서만 사용하므로 접두사 없이, `VITE_KAKAO_REST_KEY`는 클라이언트에서 직접 사용하므로 `VITE_` 접두사가 필요합니다.

### 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 빌드 결과물 미리보기
npm run preview
```

개발 서버 실행 후 `https://localhost:3000`에서 확인할 수 있습니다.

### HTTPS 개발 환경

이 프로젝트는 **HTTPS**로 개발 서버가 실행됩니다. (`@vitejs/plugin-basic-ssl` 사용)

**HTTPS가 필요한 이유:**
- 브라우저의 Geolocation API는 보안 컨텍스트(HTTPS)에서만 동작합니다.
- HTTP 환경에서는 현재 위치 감지 기능이 작동하지 않습니다.

> 최초 접속 시 브라우저에서 자체 서명 인증서 경고가 표시될 수 있습니다. "고급" → "안전하지 않음 계속 진행"을 선택하면 됩니다.

## 주요 기능

### 1. 현재 위치 날씨 조회

- 브라우저 Geolocation API로 사용자의 현재 위치 감지
- 카카오 역지오코딩 API로 좌표를 행정구역 주소로 변환
- 기상청 단기예보 API를 통한 실시간 날씨 정보 표시

### 2. 날씨 상세 정보

- **현재 기온**: 실시간 온도와 최고/최저 기온
- **날씨 상태**: 맑음, 흐림, 비, 눈 등 아이콘으로 시각화
- **상세 정보**: 풍속, 습도, 강수확률, 미세먼지/초미세먼지
- **시간별 예보**: 향후 24시간 예보

### 3. 옷차림 추천

- 현재 기온에 따른 옷차림 추천
- 비/눈 예보 또는 강수확률 60% 이상 시 우산 휴대 안내

| 기온 | 추천 옷차림 |
|------|------------|
| 28°C 이상 | 민소매, 반바지 |
| 23~27°C | 반팔, 면바지 |
| 20~22°C | 긴팔, 얇은 가디건 |
| 17~19°C | 니트, 맨투맨 |
| 12~16°C | 자켓, 가디건 |
| 9~11°C | 트렌치코트, 야상 |
| 5~8°C | 코트, 니트 |
| 0~4°C | 패딩, 목도리 |
| 0°C 미만 | 롱패딩, 장갑 |

### 4. 도시 검색

- 전국 시/군/구/동 단위 지역 검색 (디바운스 적용)
- 카카오 주소 검색 API로 좌표 변환 후 날씨 조회

### 5. 즐겨찾기

- 자주 확인하는 지역 저장 (최대 6개)
- 별칭 설정 기능 ("집", "회사" 등)
- LocalStorage 기반 영구 저장

### 6. 미세먼지 실시간 정보

- 에어코리아 시도별 실시간 측정 API 연동
- 미세먼지(PM10), 초미세먼지(PM2.5) 수치 및 등급 표시
- 등급별 색상 시각화 (좋음/보통/나쁨/매우나쁨)
- 사용자 위치(동/구/시)와 가장 가까운 측정소 자동 매칭

### 7. 반응형 디자인

- 모바일/태블릿/데스크탑 환경 최적화
- 모바일: 하단 네비게이션, 데스크탑: 사이드바 레이아웃

### 8. 날씨 기반 테마

현재 날씨에 따라 배경색이 동적으로 변경됩니다.

- 맑음: 밝은 하늘색
- 흐림/안개: 회색
- 비/폭풍: 어두운 남색
- 눈: 밝은 파란색

## 기술적 의사결정

### 아키텍처: Feature-Sliced Design (FSD)

```
src/
├── app/           # 앱 초기화, 프로바이더
├── pages/         # 페이지 컴포넌트
├── widgets/       # 독립적인 UI 블록 (헤더, 대시보드)
├── features/      # 사용자 시나리오 (검색, 즐겨찾기)
├── entities/      # 비즈니스 엔티티 (날씨, 위치)
└── shared/        # 공통 유틸리티, UI, 타입
```

**선택 이유**: 기능 단위로 코드를 분리하여 모듈의 책임을 명확히 하고, 확장성과 유지보수성을 확보했습니다.

### 상태 관리: Zustand + TanStack Query

| 상태 유형 | 라이브러리 | 선택 이유 |
|----------|-----------|----------|
| 서버 상태 | TanStack Query | 자동 캐싱, 백그라운드 리페치, 로딩/에러 상태 관리 |
| 클라이언트 상태 | Zustand | 간결한 API, 최소 보일러플레이트, 작은 번들 사이즈 |

### 스타일링: Tailwind CSS

**선택 이유**: 유틸리티 퍼스트 접근으로 빠른 UI 개발과 일관된 디자인 시스템 적용. 조건부 클래스 처리를 위한 `cn()` 유틸리티 자체 구현으로 외부 의존성 최소화.

### 위경도 → 기상청 격자 좌표 변환

기상청 API는 자체 격자 좌표계(nx, ny)를 사용합니다. Lambert Conformal Conic 투영법 기반의 변환 알고리즘을 구현하여 정확한 좌표 변환을 수행합니다.

### API 프록시 구조

기상청/에어코리아 API는 CORS를 지원하지 않아 브라우저에서 직접 호출할 수 없습니다. 카카오 API는 CORS를 지원하므로 클라이언트에서 직접 호출합니다.

| API | CORS 지원 | 호출 방식 |
|-----|----------|----------|
| 기상청/에어코리아 | X | Vite 서버 프록시 경유 (`/api/weather`) |
| 카카오 | O | 클라이언트 직접 호출 |

### API 호출 최적화

- **Stale Time**: 날씨 데이터 10분, 대기질 데이터 30분 캐시
- **조건부 쿼리**: 위치 정보 확보 후 API 호출
- **디바운스**: 검색 시 300ms 디바운스 적용

## 기술 스택

### Core

| 기술 | 버전 | 용도 |
|-----|------|------|
| React | 19.x | UI 라이브러리 |
| TypeScript | 5.x | 타입 안전성 |
| Vite | 7.x | 빌드 도구 |

### 상태 관리

| 기술 | 용도 |
|-----|------|
| TanStack Query | 서버 상태 관리, API 캐싱 |
| Zustand | 클라이언트 상태 관리 |

### 스타일링 & 애니메이션

| 기술 | 용도 |
|-----|------|
| Tailwind CSS | 유틸리티 기반 스타일링 |
| Framer Motion | 애니메이션 |

### 유틸리티

| 기술 | 용도 |
|-----|------|
| Axios | HTTP 클라이언트 |
| date-fns | 날짜 처리 |
| Lucide React | 아이콘 |

## 외부 API

| API | 용도 |
|-----|------|
| 기상청 단기예보 API | 현재 날씨, 시간별 예보 |
| 에어코리아 대기오염정보 API | 미세먼지/초미세먼지 실시간 측정 |
| 카카오 로컬 API | 좌표 ↔ 주소 변환 |

## 프로젝트 구조

```
weather-app/
├── src/
│   ├── app/                    # 앱 설정
│   │   └── providers/          # React Query Provider
│   ├── pages/                  # 페이지
│   │   ├── home/               # 홈 페이지
│   │   └── favorites/          # 즐겨찾기 페이지
│   ├── widgets/                # 위젯
│   │   ├── header/             # 헤더 (로고, 검색)
│   │   ├── weather-dashboard/  # 날씨 대시보드
│   │   ├── favorite-grid/      # 즐겨찾기 그리드
│   │   └── bottom-nav/         # 하단 네비게이션
│   ├── features/               # 기능
│   │   ├── city-search/        # 도시 검색
│   │   ├── toggle-favorite/    # 즐겨찾기 토글
│   │   ├── edit-alias/         # 별칭 수정
│   │   ├── air-quality/       # 미세먼지 실시간 데이터
│   │   └── weather/            # 날씨 API 훅
│   ├── entities/               # 엔티티
│   │   ├── weather/            # 날씨 모델, 컴포넌트
│   │   └── location/           # 위치 모델
│   └── shared/                 # 공용
│       ├── api/                # API 클라이언트
│       ├── hooks/              # 공용 훅
│       ├── lib/                # 유틸리티
│       ├── ui/                 # UI 컴포넌트
│       ├── types/              # 타입 정의
│       └── data/               # 정적 데이터
├── public/                     # 정적 파일
└── dist/                       # 빌드 결과물
```

## 라이선스

MIT
